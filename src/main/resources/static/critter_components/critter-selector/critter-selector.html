<link rel="import" href="../../bower_components/polymer/polymer.html">



<!--
# critter-insert

A Simple Button

## Example
```html
<critter-selector values="[Array of options]" selected-value=""></critter-selector>
```

@demo
-->

<dom-module id="critter-selector">
    <template>
        <style>
            select{
                margin: 20px 0;
                padding: 5px 10px;
                border: 1px solid #039be5;
                font-size: 1.2em;
            }
        </style>

        <select id="selector" name="selector">
        </select>
    </template>
    <script>
        class CritterSelector extends Polymer.Element {
            static get is() {
                return 'critter-selector';
            }

            static get properties() {
                return {
                    values: {
                        type: [],
                        observer: "_valuesChanged"
                    },

                    selectedValue: {
                        type: String,
                        value: "",
                        notify: true
                    }
                }
            }

            connectedCallback() {
                super.connectedCallback();

                Polymer.RenderStatus.afterNextRender(this, function () {
                    this.$.selector.addEventListener("change", (event) => this._valueChanged(event))
                });
            }

            _valuesChanged() {
                this.$.selector.innerHtml = "";
                this.selectedValue = this.values[0];
                this.values.forEach((value) => {
                    let opt = document.createElement("option");
                    opt.value = value;
                    opt.innerHTML = value;
                    this.$.selector.append(opt);
                })
            }

            _valueChanged(event) {
                this.selectedValue = this.$.selector.value;
            }
        }

        window.customElements.define(CritterSelector.is, CritterSelector)
    </script>
</dom-module>
